<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2LC9HPKZ08"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-2LC9HPKZ08');
    </script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans+Narrow:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <title>SugarBloom â€” Products</title>

    <!-- ðŸŸ¢ NEW: Theme Toggle Button and Table Styles -->
    <style>
        /* This CSS ensures the correct icon is shown based on the theme */
        .theme-toggle {
            all: unset;
            display: grid;
            place-items: center;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
            /* Styling assumes theme variables from style.css */
            background: var(--color-pink-200, #ffe6f0);
            box-shadow: var(--color-shadow, 0 8px 18px rgba(255, 110, 174, .25));
            transition: background .25s ease, box-shadow .25s ease, transform .15s ease;
            margin-left: 10px;
            /* Separator from menu-toggle */
        }

        .theme-toggle:hover {
            transform: translateY(-1px);
        }

        .theme-toggle svg {
            width: 22px;
            height: 22px;
            /* Icon color assumes theme variables from style.css */
            color: var(--color-rose-700, #a2476a);
        }
        
        /* Help Button Styles (to match theme toggle) */
        .nav-action {
            all: unset;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
            z-index: 1001;
            background: var(--color-pink-200, #ffe6f0);
            box-shadow: var(--color-shadow, 0 8px 18px rgba(255, 110, 174, .25));
            color: var(--color-rose-700, #a2476a);
            border-radius: 999px;
            margin-left: 10px;
            transition: background .25s ease, box-shadow .25s ease, transform .15s ease;
        }
        .help-button {
            width: 42px;
            height: 42px;
            padding: 0;
        }
        
        .nav-action:hover {
            transform: translateY(-1px);
        }
        
        .nav-action svg {
            width: 22px;
            height: 22px;
            color: inherit;
        }


        /* Icon Toggling Logic */
        html[data-theme='light'] #iconMoon {
            display: none;
        }

        html[data-theme='light'] #iconSun {
            display: block;
        }

        html[data-theme='dark'] #iconMoon {
            display: block;
        }

        html[data-theme='dark'] #iconSun {
            display: none;
        }

        /* Table Styling for Options */
        .options-table {
            width: 100%;
            margin-top: 25px;
            border-collapse: collapse;
            font-size: 14px;
            /* Use theme colors */
            background: var(--color-bg-secondary, #fff2f7); 
            border: 1px solid var(--color-border-primary, #ffd6e8);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(255, 156, 194, .1);
        }
        
        .options-table caption {
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 10px;
            /* Use theme colors */
            color: var(--color-rose-700, #a2476a);
            text-align: left;
            padding: 8px 0;
        }

        .options-table th, .options-table td {
            padding: 10px 15px;
            text-align: left;
            /* Use theme colors */
            color: var(--color-text-primary, #4b2e3b); 
        }

        .options-table th {
            /* Use theme colors */
            background: var(--color-pink-300, #ffd6e8);
            color: var(--color-ink, #4b2e3b);
            font-weight: 700;
            border-bottom: 2px solid var(--color-pink-500, #ff9ecb);
        }

        .options-table tr:nth-child(even) {
            /* Use theme colors */
            background: var(--color-pink-100, #fff2f7);
        }
        
        .options-table tr:hover {
            /* Use theme colors */
            background: var(--color-pink-200, #ffe6f0);
        }
        
        /* ðŸŸ¢ NEW: Scroll Button Styles */
        #scrollButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            z-index: 999;
            /* Inherit styling from nav-action but make it stand out slightly */
            background: var(--color-pink-600, #ff6fae); 
            color: var(--color-white, #ffffff);
            border: none;
            box-shadow: 0 4px 15px rgba(255, 110, 174, 0.4);
            transition: opacity 0.3s, transform 0.3s, background 0.3s;
            opacity: 0; /* Hidden by default */
            visibility: hidden;
        }

        #scrollButton.visible {
            opacity: 1;
            visibility: visible;
        }
        
        #scrollButton:hover {
            transform: scale(1.05);
            background: var(--color-pink-500, #ff9ecb);
        }

        #scrollButton svg {
            width: 24px;
            height: 24px;
        }
    </style>

</head>

<body>
   <header class="site-nav">
        <div class="nav-inner">
            <a href="index.html" class="brand">
                <img src="img/logo-removebg.png" alt="SugarBloom logo" width="110" height="auto">
            </a>

            <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
                <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="3" y="6" width="18" height="2" rx="1" fill="currentColor" />
                    <rect x="3" y="11" width="18" height="2" rx="1" fill="currentColor" />
                    <rect x="3" y="16" width="18" height="2" rx="1" fill="currentColor" />
                </svg>
            </button>

            <nav class="nav-links" id="navLinks">
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="about-us.html">ABOUT US</a></li>
                    <li><a href="products.html" class="active">PRODUCTS</a></li>
                    <li><a href="events.html">EVENTS &amp; CATERING</a></li>
                    <li><a href="workshops.html">WORKSHOPS</a></li>
                    <li><a href="contact.html">CONTACT</a></li>
                </ul>
            </nav>
            <a href="contact.html" class="nav-action help-button" aria-label="Go to Contact for Help">Help</a>

            <!-- ðŸŸ¢ UPDATED: Theme Toggle Button with both SVGs -->
            <button id="themeToggle" class="theme-toggle" aria-label="Toggle light/dark theme">
                <!-- Sun Icon (Light Mode) -->
                <svg id="iconSun" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor"
                        d="M12 4a1 1 0 0 1 1-1h0a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V4zm0 16a1 1 0 0 1 1 1h0a1 1 0 0 1-1 1 1 1 0 0 1-1-1v-1a1 1 0 1 1 2 0v1zM4 13a1 1 0 1 1 0-2H5a1 1 0 1 1 0 2H4zm15 0a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2h-1zM5.6 6.0a1 1 0 0 1 1.4-1.4l.7.7A1 1 0 1 1 6.3 6.7l-.7-.7zm11.3 11.3a1 1 0 0 1 1.4 1.4l-.7.7a1 1 0 0 1-1.4-1.4l.7-.7zM6.3 17.3a1 1 0 0 1-1.4 1.4l-.7-.7a1 1 0 1 1 1.4-1.4l.7.7zm12.1-11.7a1 1 0 0 1 1.4 1.4l-.7.7a1 1 0 1 1-1.4-1.4l.7-.7zM12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z" />
                </svg>
                <!-- Moon Icon (Dark Mode) -->
                <svg id="iconMoon" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor"
                        d="M10.85 3.3a.75.75 0 0 0-.71.55c-.24 1.25-.36 2.5-.32 3.75s.18 2.5.49 3.74c.3 1.25.75 2.45 1.34 3.61.6 1.15 1.33 2.22 2.19 3.19a.75.75 0 0 0 1.26-.6c.22-1.25.33-2.5.28-3.75-.06-1.25-.26-2.5-.58-3.74-.31-1.25-.76-2.45-1.34-3.61-.6-1.15-1.33-2.22-2.18-3.19a.75.75 0 0 0-.55-.37zM12 2a10 10 0 1 0 10 10c0-5.52-4.48-10-10-10z" />
                </svg>
            </button>
        </div>
    </header>

    <section class="sub-header">
        <h1>Our products</h1>
    </section>
    <section class="search-wrap" aria-label="Search">
        <div class="search-box">
            <label for="search" class="search-label">Search</label>
            <input id="search" type="search" placeholder="Search" autocomplete="off">
            <!-- dropdown cu rezultate -->
            <ul id="search-results" class="search-results" hidden></ul>
        </div>
    </section>

    <!-- sursa de cÄƒutat: poÈ›i folosi lista existentÄƒ sau generatÄƒ din paginÄƒ -->
    <ul id="items" hidden>
        <li class="item" data-url="events.html#birthday" data-keywords="birthday sweet table">Birthday Sweet Table</li>
        <li class="item" data-url="events.html#wedding" data-keywords="wedding candy bar">Wedding Candy Bar</li>
        <li class="item" data-url="events.html#office" data-keywords="office treat box">Office Treat Box</li>

        <li class="item" data-url="products.html#weddingcake" data-keywords="wedding cake">Wedding Cake</li>
        <li class="item" data-url="products.html#occasioncake" data-keywords="occasion cake">Occasion Cake</li>
        <li class="item" data-url="products.html#sweetreats" data-keywords="sweet treats">Sweet Treats</li>

        <li class="item" data-url="workshops.html#cupcake" data-keywords="cupcake vanilie glazura">Cupcake Decorating
            101</li>
        <li class="item" data-url="workshops.html#flowers" data-keywords="flori buttercream">Buttercream Flowers</li>
        <li class="item" data-url="workshops.html#cookie" data-keywords="cookie art royal icing">Whimsical Cookie Art
        </li>
    </ul>
    <section class="Proiect">
        <!-- WEDDING CAKE OPTIONS -->
        <div class="rowo">
            <img src="img/weddingCake.jpg" style="width:500px; height: 600px;">
            <div class="proiectul">
                <h2>Wedding cake</h2>
                <p>At Sugarbloom, we believe your wedding cake should be as magical as your love story. Each tier is crafted with elegance, soft flavors, and delicate decorations â€” from sugar flowers that never wilt to silky frosting that melts in every smile. Whether you dream of something classic or whimsical, we'll make sure your cake is the centerpiece of your happily ever after.</p>
                
                <!-- NEW TABLE: Wedding Cake Options -->
                <table class="options-table">
                    <caption>Customization Options</caption>
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Available Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Flavors (Sponge)</td>
                            <td>**Classic:** Vanilla bean, Rich chocolate. **Premium:** Lemon zest, Red velvet.</td>
                        </tr>
                        <tr>
                            <td>Fillings (Cream)</td>
                            <td>Vanilla buttercream, Raspberry preserve, Salted caramel.</td>
                        </tr>
                        <tr>
                            <td>Frosting Style</td>
                            <td>Silky Swiss meringue buttercream, Smooth vanilla fondant (for high detail).</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- OCCASION CAKE OPTIONS -->
        <div class="rowo">
            <img src="img/cake.jpg" style="width:500px; height: 600px;">
            <div class="proiectul">
                <h2>Ocassion cake</h2>
                <p>Every celebration deserves a show-stopper! From fun and colorful birthday cakes to elegant anniversary delights, Sugarbloom creates cakes that make memories sweeter. Playful sprinkles, creamy layers, or personalized designs â€” whatever your wish, we'll turn it into a cake that sparks joy and makes the occasion unforgettable.</p>
                
                <!-- NEW TABLE: Occasion Cake Options -->
                <table class="options-table">
                    <caption>Customization Options</caption>
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Available Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Flavors</td>
                            <td>Chocolate, Confetti sprinkle, Strawberry shortcake.</td>
                        </tr>
                        <tr>
                            <td>Toppings</td>
                            <td>Sprinkles, Fresh berries, Edible glitter, Custom toppers.</td>
                        </tr>
                        <tr>
                            <td>Decoration</td>
                            <td>Buttercream swirls, Drip glaze, Personalized messages.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- SWEET TREATS OPTIONS -->
        <div class="rowo">
            <img src="img/candyBar.jpg" style="width:500px; height: 600px;">
            <div class="proiectul">

                <h2>Sweet treats</h2>
                <p>Not every sweet moment needs a big occasion â€” sometimes it's about that cozy cookie with your coffee, a fluffy cupcake on a rainy day, or a little tart that feels like sunshine. Our sweet treats are baked fresh daily, with a sprinkle of love and a touch of whimsy, perfect for sharingâ€¦ or keeping all to yourself.</p>
                
                <!-- NEW TABLE: Sweet Treats Options -->
                <table class="options-table">
                    <caption>Available Varieties</caption>
                    <thead>
                        <tr>
                            <th>Treat Type</th>
                            <th>Flavor/Style Options</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Cupcakes</td>
                            <td>Vanilla, Chocolate, Lemon, Red Velvet.</td>
                        </tr>
                        <tr>
                            <td>Cookies</td>
                            <td>Sugar Cookies (Plain/Decorated), Chocolate Chip, Oat & Raisin.</td>
                        </tr>
                        <tr>
                            <td>Mini Tarts</td>
                            <td>Seasonal fruit, Lemon curd, Chocolate mousse.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </section>
    <footer class="footer">
        <h4>Â© 2025 SugarBloom. All rights reserved.</h4>
    </footer>

    <!-- ðŸŸ¢ NEW: Fixed Scroll Button (Always at the bottom of the body) -->
    <button id="scrollButton" aria-label="Scroll to Top">
        <svg id="scrollIcon" viewBox="0 0 24 24" fill="currentColor">
            <!-- Default Up Arrow -->
            <path d="M12 4l-8 8h6v8h4v-8h6z" transform="rotate(180 12 12)"/>
        </svg>
    </button>
    
    <!-- ðŸŸ¢ MODIFIED: Merged and updated JS blocks with Scroll Logic -->
    <script>
        // Helper function to update the ARIA label and icon visibility
        function updateThemeUI(theme) {
            const toggle = document.getElementById('themeToggle');
            if (toggle) {
                const targetTheme = theme === 'light' ? 'dark' : 'light';
                toggle.setAttribute('aria-label', `Toggle to ${targetTheme} theme`);
            }
        }

        // Hamburger drawer logic
        const btn = document.querySelector('.menu-toggle');
        const drawer = document.getElementById('navLinks');
        if (btn && drawer) {
            btn.addEventListener('click', () => {
                document.body.classList.toggle('nav-open');
                btn.setAttribute('aria-expanded', document.body.classList.contains('nav-open'));
            });
            drawer.addEventListener('click', e => {
                if (e.target.tagName === 'A') {
                    document.body.classList.remove('nav-open');
                    btn.setAttribute('aria-expanded', 'false');
                }
            });
        }

        // Search functionality (re-merged)
        const DB = [...document.querySelectorAll('#items .item')].map(li => ({
            title: li.textContent.trim(),
            url: li.dataset.url || '#',
            hay: (li.textContent + ' ' + (li.dataset.keywords || '')).toLowerCase()
        }));

        const input = document.getElementById('search');
        const list = document.getElementById('search-results');

        let t;
        function debounce(fn, ms = 200) { clearTimeout(t); t = setTimeout(fn, ms); }

        if (input && list) {
            input.addEventListener('input', () => debounce(handleSearch, 200));
            input.addEventListener('focus', () => { if (input.value.trim().length >= 2) list.hidden = false; });
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.search-box')) list.hidden = true;
            });
        }

        function handleSearch() {
            const q = input.value.trim().toLowerCase();
            if (q.length < 2) { list.hidden = true; list.innerHTML = ''; return; }

            const results = DB.filter(x => x.hay.includes(q)).slice(0, 10);

            list.innerHTML = results.length
                ? results.map(x => `<li><a href="${x.url}">${highlight(x.title, q)}</a></li>`).join('')
                : `<li><a href="javascript:void(0)" tabindex="-1" style="pointer-events:none;color:#8a6273">No results</a></li>`;

            list.hidden = false;
        }

        function highlight(text, term) {
            const re = new RegExp(`(${term.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'ig');
            return text.replace(re, '<mark style="background:#ff9ecb52;border-radius:4px;">$1</mark>');
        }

        // ----------------------------------------------------
        // ðŸŸ¢ NEW: Scroll Up/Down Button Logic
        const scrollButton = document.getElementById('scrollButton');
        const scrollIconPath = scrollButton.querySelector('path');
        const topThreshold = 50; // Scroll position to show the button
        let isAtBottom = false;

        function checkScrollPosition() {
            const scrollY = window.scrollY;
            const viewportHeight = window.innerHeight;
            const contentHeight = document.documentElement.scrollHeight;

            // Determine if the user has scrolled past the top threshold
            const showButton = scrollY > topThreshold;
            scrollButton.classList.toggle('visible', showButton);

            // Determine if the user is near the bottom
            // Check if scrollY + viewportHeight is close to contentHeight
            isAtBottom = (scrollY + viewportHeight) >= (contentHeight - topThreshold);

            // Toggle icon and aria-label
            if (isAtBottom) {
                // Change icon to UP arrow (0 degree rotation)
                scrollIconPath.setAttribute('transform', 'rotate(0 12 12)');
                scrollButton.setAttribute('aria-label', 'Scroll to Top');
            } else {
                // Change icon to DOWN arrow (180 degree rotation)
                scrollIconPath.setAttribute('transform', 'rotate(180 12 12)');
                scrollButton.setAttribute('aria-label', 'Scroll to Bottom');
            }
        }
        
        function handleScrollButtonClick() {
            if (isAtBottom) {
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                // Scroll to bottom
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }
        }

        // Attach event listeners
        window.addEventListener('scroll', checkScrollPosition);
        scrollButton.addEventListener('click', handleScrollButtonClick);

        // Run check once on load to initialize visibility and icon
        window.onload = checkScrollPosition;


        // ----------------------------------------------------
        // Theme Toggling Logic
        // 1) Initialization: Set theme from localStorage or system preference
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem('sb-theme');
        let initialTheme;

        if (savedTheme) {
            initialTheme = savedTheme;
        } else {
            initialTheme = prefersDark ? 'dark' : 'light';
        }

        document.documentElement.dataset.theme = initialTheme;
        updateThemeUI(initialTheme); // Set initial ARIA label/icon

        // 2) Toggle + persist
        const toggle = document.getElementById('themeToggle');
        if (toggle) {
            toggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.dataset.theme;
                const next = (currentTheme === 'dark') ? 'light' : 'dark';
                document.documentElement.dataset.theme = next;
                localStorage.setItem('sb-theme', next);
                updateThemeUI(next); // Update ARIA label/icon
            });
        }

        // 3) Listen to system preference changes if no manual preference is saved
        if (!savedTheme && window.matchMedia) {
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                document.documentElement.dataset.theme = e.matches ? 'dark' : 'light';
                updateThemeUI(e.matches ? 'dark' : 'light'); // Update ARIA label/icon
            });
        }
    </script>

</body>

</html>
